"use strict";function _instanceof(e,t){return null!=t&&"undefined"!=typeof Symbol&&t[Symbol.hasInstance]?!!t[Symbol.hasInstance](e):e instanceof t}function _slicedToArray(e,t){return _arrayWithHoles(e)||_iterableToArrayLimit(e,t)||_unsupportedIterableToArray(e,t)||_nonIterableRest()}function _nonIterableRest(){throw new TypeError("Invalid attempt to destructure non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}function _iterableToArrayLimit(e,t){if("undefined"!=typeof Symbol&&Symbol.iterator in Object(e)){var r=[],i=!0,n=!1,o=void 0;try{for(var s,a=e[Symbol.iterator]();!(i=(s=a.next()).done)&&(r.push(s.value),!t||r.length!==t);i=!0);}catch(e){n=!0,o=e}finally{try{i||null==a.t||a.t()}finally{if(n)throw o}}return r}}function _arrayWithHoles(e){if(Array.isArray(e))return e}function _createForOfIteratorHelper(e,t){var r;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(r=_unsupportedIterableToArray(e))||t&&e&&"number"==typeof e.length){r&&(e=r);var i=0,n=function(){};return{s:n,n:function(){return i>=e.length?{done:!0}:{done:!1,value:e[i++]}},e:function(e){throw e},f:n}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,s=!0,a=!1;return{s:function(){r=e[Symbol.iterator]()},n:function(){var e=r.next();return s=e.done,e},e:function(e){a=!0,o=e},f:function(){try{s||null==r.t||r.t()}finally{if(a)throw o}}}}function _unsupportedIterableToArray(e,t){if(e){if("string"==typeof e)return _arrayLikeToArray(e,t);var r=Object.prototype.toString.call(e).slice(8,-1);return"Object"===r&&e.constructor&&(r=e.constructor.name),"Map"===r||"Set"===r?Array.from(e):"Arguments"===r||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(r)?_arrayLikeToArray(e,t):void 0}}function _arrayLikeToArray(e,t){(null==t||t>e.length)&&(t=e.length);for(var r=0,i=new Array(t);r<t;r++)i[r]=e[r];return i}function _classCallCheck(e,t){if(!_instanceof(e,t))throw new TypeError("Cannot call a class as a function")}function _defineProperties(e,t){for(var r=0;r<t.length;r++){var i=t[r];i.i=i.i||!1,i.o=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,i.key,i)}}function _createClass(e,t,r){return t&&_defineProperties(e.prototype,t),r&&_defineProperties(e,r),e}function ownKeys(e,t){var r=Object.keys(e);if(Object.getOwnPropertySymbols){var i=Object.getOwnPropertySymbols(e);t&&(i=i.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).i}))),r.push.apply(r,i)}return r}function _objectSpread(e){for(var t=1;t<arguments.length;t++){var r=null!=arguments[t]?arguments[t]:{};t%2?ownKeys(Object(r),!0).forEach((function(t){_defineProperty(e,t,r[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(r)):ownKeys(Object(r)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(r,t))}))}return e}function _defineProperty(e,t,r){return t in e?Object.defineProperty(e,t,{value:r,i:!0,o:!0,writable:!0}):e[t]=r,e}var OdiaKeyboardDriver=function(){var e,t,r,i,n=32,o=48,s=49,a=50,f=51,h=52,y=53,c=54,u=55,d=56,_=57,p=58,l=94,P=96,b=65,v=67,m=68,k=69,j=71,w=72,O=73,A=74,S=76,C=77,I=78,g=79,T=81,L=82,K=83,H=84,E=85,F=86,R=87,M=89,U=97,V=98,W=99,q=100,D=101,Q=102,$=103,x=104,z=105,B=106,G=107,J=108,N=109,X=110,Y=111,Z=112,ee=113,te=114,re=115,ie=116,ne=117,oe=118,se=119,ae=120,fe=121,he=122,ye=1,ce=4,ue=5,de=(_defineProperty(e={},n," "),_defineProperty(e,p,"ଃ"),_defineProperty(e,l,"ଁ"),_defineProperty(e,C,"ଂ"),_defineProperty(e,P,"୍"),_defineProperty(e,k,"ଽ"),_defineProperty(e,F,"୰"),_defineProperty(e,T,"ॐ"),_defineProperty(e,ee,"₹"),_defineProperty(e,ye,"୍"),_defineProperty(e,ce,"‍"),_defineProperty(e,ue,"‌"),e),_e=(_defineProperty(t={},o,"୦"),_defineProperty(t,s,"୧"),_defineProperty(t,a,"୨"),_defineProperty(t,f,"୩"),_defineProperty(t,h,"୪"),_defineProperty(t,y,"୫"),_defineProperty(t,c,"୬"),_defineProperty(t,u,"୭"),_defineProperty(t,d,"୮"),_defineProperty(t,_,"୯"),t),pe=(_defineProperty(r={},U,"ଅ"),_defineProperty(r,b,"ଆ"),_defineProperty(r,z,"ଇ"),_defineProperty(r,O,"ଈ"),_defineProperty(r,ne,"ଉ"),_defineProperty(r,E,"ଊ"),_defineProperty(r,L,"ଋ"),_defineProperty(r,g,"ଌ"),_defineProperty(r,D,"ଏ"),_defineProperty(r,Y,"ଓ"),r),le=[[U,U,"ଆ"],[D,D,"ଈ"],[Y,Y,"ଊ"],[L,E,"ୠ"],[U,z,"ଐ"],[U,ne,"ଔ"]],Pe=_objectSpread(_objectSpread({},de),{},(_defineProperty(i={},G,"କ"),_defineProperty(i,$,"ଗ"),_defineProperty(i,W,"ଚ"),_defineProperty(i,v,"ଛ"),_defineProperty(i,B,"ଜ"),_defineProperty(i,he,"ଝ"),_defineProperty(i,H,"ଟ"),_defineProperty(i,m,"ଡ"),_defineProperty(i,I,"ଣ"),_defineProperty(i,ie,"ତ"),_defineProperty(i,q,"ଦ"),_defineProperty(i,X,"ନ"),_defineProperty(i,Z,"ପ"),_defineProperty(i,Q,"ଫ"),_defineProperty(i,V,"ବ"),_defineProperty(i,oe,"ଭ"),_defineProperty(i,N,"ମ"),_defineProperty(i,fe,"ଯ"),_defineProperty(i,te,"ର"),_defineProperty(i,J,"ଲ"),_defineProperty(i,S,"ଳ"),_defineProperty(i,se,"ଵ"),_defineProperty(i,R,"ୱ"),_defineProperty(i,re,"ସ"),_defineProperty(i,K,"ଷ"),_defineProperty(i,ae,"କ୍ଷ"),_defineProperty(i,x,"ହ"),_defineProperty(i,M,"ୟ"),_defineProperty(i,U,""),_defineProperty(i,b,"ା"),_defineProperty(i,z,"ି"),_defineProperty(i,O,"ୀ"),_defineProperty(i,ne,"ୁ"),_defineProperty(i,E,"ୂ"),_defineProperty(i,D,"େ"),_defineProperty(i,g,"ୢ"),_defineProperty(i,Y,"ୋ"),_defineProperty(i,L,"ୃ"),i)),be=[[G,x,"ଖ"],[$,x,"ଘ"],[W,x,"ଚ"],[v,x,"ଛ"],[B,x,"ଝ"],[H,x,"ଠ"],[m,x,"ଢ"],[ie,x,"ଥ"],[q,x,"ଧ"],[Z,x,"ଫ"],[V,x,"ଭ"],[re,x,"ଶ"],[K,x,"ଷ"],[U,U,"ା"],[D,D,"ୀ"],[Y,Y,"ୂ"],[U,z,"ୈ"],[U,ne,"ୌ"],[L,E,"ୃ"],[I,j,"ଙ"],[I,M,"ଞ"],[m,m,"ଡ଼"],[m,w,"ଢ଼"],[A,X,"ଜ୍ଞ"]],ve=function(){function e(){_classCallCheck(this,e),this.h=!1,this.reset()}return _createClass(e,[{key:"reset",value:function(){this.u=n,this._=!1,this.p=!1,this.hidden=!1,this.l=!0}},{key:"toggleLang",value:function(){return this.reset(),this.h=!this.h,this.h?"native":"odia"}},{key:"input",value:function(e){var t=[0,e];if(this.h)return t;var r,i,o=0,s="",a=e.charCodeAt(0);if(!this.P(a))return this.reset(),t;switch(this.l&&(this.u=n,this.hidden=!1,this._=!1,this.p=!1),e){case"a":r=this.v(this.u,a),i=this.m(this.u,a),this._?(o=0,s=Pe[a]):i?this.p?(o=0,s=r):(o-=1,s=i):(o=0,s=pe[a]),this.p=this._,this._=!1,this.hidden=!1;break;case"e":case"i":case"o":case"u":case"A":case"I":case"O":case"U":r=this.v(this.u,a),i=this.m(this.u,a),this._?(o=0,s=Pe[a]):i?this.p?(o=this.u===a?o-1:0,s=r):(o-=1,s=i):(o=0,s=pe[a]),this.p=this._,this._=!1,this.hidden=!1;break;case"R":o=0,s=this._?Pe[a]:pe[a],this.p=this._,this._=!1,this.hidden=!1;break;case"M":case"^":case":":case"E":case"V":case"q":case"Q":s=Pe[a],this.p=this._,this._=!1,this.hidden=!1;break;case"`":s=this._?Pe[ye]:"`",this.p=this._,this._=!1,this.hidden=!1;break;case"~":s=this._?Pe[ye]+Pe[ce]:"~",this.p=this._,this._=!1,this.hidden=!1;break;case" ":o=0,s=" ",this.p=!1,this._=!1,this.hidden=!1;break;default:r=this.v(this.u,a),this.hidden?r?(o=0,s=this.p?Pe[ye]+r:r,this.reset(),this.p=!1,this._=!0):Pe[a]?(o=0,s=this._&&!this.p?Pe[ye]+Pe[a]:Pe[a],this.reset(),this.p=this._,this._=!0,this.hidden=!1):(o=0,this.p=this._,this._=!1):r?(o-=1,s=r,this.reset(),this.p=!1,this._=!0):Pe[a]?(o=0,s=this._&&!this.p?Pe[ye]+Pe[a]:Pe[a],this.reset(),this.p=this._,this._=!0):_e[a]?(o=0,s=_e[a],this.p=this._,this._=!1):(this.p=this._,this._=!0,this.hidden=!0)}return this.u=a,this.l=!1,[o,s]}},{key:"isAllowedKey",value:function(e){return!(e<32||e>=33&&e<=47||e>=59&&e<=64||e>=91&&e<=93||95===e||e>=123&&e<=125||e>=127)}},{key:"getVowelCombination",value:function(e,t){var r,i=_createForOfIteratorHelper(le);try{for(i.s();!(r=i.n()).done;){var n=r.value;if(n[0]===e&&n[1]===t)return n[2]}}catch(e){i.e(e)}finally{i.f()}}},{key:"getConsonantCombination",value:function(e,t){var r,i=_createForOfIteratorHelper(be);try{for(i.s();!(r=i.n()).done;){var n=r.value;if(n[0]===e&&n[1]===t)return n[2]}}catch(e){i.e(e)}finally{i.f()}}}]),e}(),me=function(){return!0},ke=function(){function e(t){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:me,i=arguments.length>2&&void 0!==arguments[2]?arguments[2]:me;_classCallCheck(this,e),this.k=t,this.j=new ve,this.O=function(e){return r(e)},this.A=function(e){return i(e)},this.init()}return _createClass(e,[{key:"init",value:function(){var e=this;document.body.addEventListener("keydown",(function(t){if(e.k.contains(t.target)&&t.keyCode===ascii.TAB)return t.preventDefault(),void e.S()})),this.k.addEventListener("keypress",this.C.bind(this)),this.k.addEventListener("keyup",this.I.bind(this))}},{key:"toggleLang",value:function(){var e=this.j.S();this.A(e)}},{key:"handleKeyPress",value:function(e){this.h||this.modify(e),this.O(this.k.value)}},{key:"changeCursor",value:function(){this.k.createTextRange&&(this.k.g=document.selection.createRange().duplicate()),0===this.k.value.length&&this.j.reset()}},{key:"modify",value:function(e){if(e.altKey||e.ctrlKey)return!0;e.preventDefault();var t=document.all?e.keyCode:e.which,r=String.fromCharCode(t),i=_slicedToArray(this.j.input(r),2),n=i[0],o=i[1],s=this.k.value,a=s.length;if(this.k.setSelectionRange){var f=this.k.selectionStart,h=s.substring(0,f+n),y=s.substring(f,a),c=this.k.scrollTop,u=void 0!==o?f+n+o.length:f+n;this.k.value=h+o+y,this.k.scrollTop=c,this.k.focus(),this.k.setSelectionRange(u,u)}else if(this.k.createTextRange&&this.k.g){var d=this.k.g;d.moveStart("character",n),d.text=" "===d.text.charAt(d.text.length-1)?o+" ":o,d.collapse(!1),d.scrollIntoView(!0)}else 0===n?this.k.value+=o:this.k.value=s.substring(0,a-1)+o;return this.k.focus(),!1}}]),e}();return window.OdiaKeyboardDriver=ke,ke}();